<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0d1117">
  <meta name="description" content="Interactive physics simulations for first-principles thinking">

  <meta property="og:title" content="Physics Playground">
  <meta property="og:description" content="Interactive physics simulations for first-principles thinking">
  <meta property="og:type" content="website">

  <title>Physics Playground</title>

  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/sim.css">
</head>
<body>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Physics Playground</h1>
      <p>Interactive simulations that build intuition. Play first, understand second.</p>
    </div>
  </section>

  <!-- Card Grid -->
  <main class="container">
    <div class="card-grid">

      <!-- 01 Newton's Laws -->
      <a href="topics/newtons-laws.html" class="card">
        <div class="card-preview" id="preview-newton"></div>
        <div class="card-body">
          <div class="card-number" style="color: #58a6ff;">01 — Newton's Laws</div>
          <div class="card-title">Push things around.</div>
          <div class="card-desc">Discover why heavy objects are stubborn.</div>
        </div>
      </a>

      <!-- 02 Conservation of Energy -->
      <a href="topics/energy.html" class="card">
        <div class="card-preview" id="preview-energy"></div>
        <div class="card-body">
          <div class="card-number" style="color: #f0883e;">02 — Conservation of Energy</div>
          <div class="card-title">Swing a pendulum.</div>
          <div class="card-desc">Watch energy transform but never disappear.</div>
        </div>
      </a>

      <!-- 03 Entropy -->
      <a href="topics/entropy.html" class="card">
        <div class="card-preview" id="preview-entropy"></div>
        <div class="card-body">
          <div class="card-number" style="color: #bc8cff;">03 — Entropy</div>
          <div class="card-title">Release particles.</div>
          <div class="card-desc">See why some things can never be undone.</div>
        </div>
      </a>

      <!-- 04 Gravity & Orbits -->
      <a href="topics/gravity.html" class="card">
        <div class="card-preview" id="preview-gravity"></div>
        <div class="card-body">
          <div class="card-number" style="color: #3fb950;">04 — Gravity & Orbits</div>
          <div class="card-title">Place masses in space.</div>
          <div class="card-desc">Watch gravity sculpt orbital paths.</div>
        </div>
      </a>

      <!-- 05 Momentum & Collisions -->
      <a href="topics/momentum.html" class="card">
        <div class="card-preview" id="preview-momentum"></div>
        <div class="card-body">
          <div class="card-number" style="color: #f85149;">05 — Momentum & Collisions</div>
          <div class="card-title">Smash things together.</div>
          <div class="card-desc">Learn what's really conserved.</div>
        </div>
      </a>

      <!-- 06 Waves & Resonance -->
      <a href="topics/waves.html" class="card">
        <div class="card-preview" id="preview-waves"></div>
        <div class="card-body">
          <div class="card-number" style="color: #39d353;">06 — Waves & Resonance</div>
          <div class="card-title">Mix waves.</div>
          <div class="card-desc">Find the frequency that makes everything shake.</div>
        </div>
      </a>

      <!-- 07 Electrostatics & Fields -->
      <a href="topics/electrostatics.html" class="card">
        <div class="card-preview" id="preview-electrostatics"></div>
        <div class="card-body">
          <div class="card-number" style="color: #e3b341;">07 — Electrostatics & Fields</div>
          <div class="card-title">Place charges.</div>
          <div class="card-desc">Watch invisible fields shape the space between them.</div>
        </div>
      </a>

      <!-- 08 Projectile Motion -->
      <a href="topics/projectile.html" class="card">
        <div class="card-preview" id="preview-projectile"></div>
        <div class="card-body">
          <div class="card-number" style="color: #f778ba;">08 — Projectile Motion</div>
          <div class="card-title">Fire a cannon.</div>
          <div class="card-desc">Learn why 45&deg; isn't always the best angle.</div>
        </div>
      </a>

      <!-- 09 Thermodynamics -->
      <a href="topics/thermodynamics.html" class="card">
        <div class="card-preview" id="preview-thermo"></div>
        <div class="card-body">
          <div class="card-number" style="color: #da5b0d;">09 — Thermodynamics</div>
          <div class="card-title">Compress a gas.</div>
          <div class="card-desc">Feel how pressure, volume, and temperature are linked.</div>
        </div>
      </a>

      <!-- 10 Optics & Light -->
      <a href="topics/optics.html" class="card">
        <div class="card-preview" id="preview-optics"></div>
        <div class="card-body">
          <div class="card-number" style="color: #56d4dd;">10 — Optics & Light</div>
          <div class="card-title">Bend light.</div>
          <div class="card-desc">Trace rays through lenses and find the image.</div>
        </div>
      </a>

      <!-- 11 Circuits & Electricity -->
      <a href="topics/circuits.html" class="card">
        <div class="card-preview" id="preview-circuits"></div>
        <div class="card-body">
          <div class="card-number" style="color: #d4a72c;">11 — Circuits & Electricity</div>
          <div class="card-title">Build a circuit.</div>
          <div class="card-desc">See current flow and learn why parallel beats series.</div>
        </div>
      </a>

      <!-- 12 Special Relativity -->
      <a href="topics/relativity.html" class="card">
        <div class="card-preview" id="preview-relativity"></div>
        <div class="card-body">
          <div class="card-number" style="color: #8957e5;">12 — Special Relativity</div>
          <div class="card-title">Approach light speed.</div>
          <div class="card-desc">Watch time slow down and space contract.</div>
        </div>
      </a>

    </div>
  </main>

  <!-- Footer -->
  <footer style="text-align: center; padding: 48px 0 32px; color: var(--text-muted); font-size: 0.875rem;">
    Built for curiosity.
  </footer>

  <!-- p5.js -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>

  <!-- App scripts -->
  <script src="js/shared.js"></script>
  <script src="js/nav.js"></script>

  <!-- Preview sketches -->
  <script>
  (function () {
    var BG = [13, 17, 23];

    function initPreview(id, sketchFn) {
      var el = document.getElementById(id);
      if (!el) return;

      var sketch = new p5(function (p) {
        var w, h;

        p.setup = function () {
          w = el.offsetWidth;
          h = el.offsetHeight;
          var c = p.createCanvas(w, h);
          c.style('display', 'block');
          sketchFn.setup(p, w, h);
        };

        p.draw = function () {
          w = p.width;
          h = p.height;
          p.background(BG[0], BG[1], BG[2]);
          sketchFn.draw(p, w, h);
        };
      }, el);

      // Resize canvas when container changes size
      var ro = new ResizeObserver(function (entries) {
        var rect = entries[0].contentRect;
        if (rect.width > 0 && rect.height > 0) {
          sketch.resizeCanvas(rect.width, rect.height);
        }
      });
      ro.observe(el);
    }

    // ----- Newton: bouncing colored circles -----
    initPreview('preview-newton', (function () {
      var balls = [];
      return {
        setup: function (p, w, h) {
          p.noStroke();
          var colors = ['#58a6ff', '#bc8cff', '#f0883e'];
          for (var i = 0; i < 5; i++) {
            var r = p.random(8, 16);
            balls.push({
              x: p.random(r, w - r),
              y: p.random(r, h - r),
              vx: p.random(-1.5, 1.5),
              vy: p.random(-1.5, 1.5),
              r: r,
              col: colors[i % colors.length]
            });
          }
        },
        draw: function (p, w, h) {
          p.noStroke();
          for (var i = 0; i < balls.length; i++) {
            var b = balls[i];
            b.x += b.vx;
            b.y += b.vy;
            if (b.x < b.r || b.x > w - b.r) b.vx *= -1;
            if (b.y < b.r || b.y > h - b.r) b.vy *= -1;
            b.x = p.constrain(b.x, b.r, w - b.r);
            b.y = p.constrain(b.y, b.r, h - b.r);
            p.fill(b.col);
            p.ellipse(b.x, b.y, b.r * 2);
          }
        }
      };
    })());

    // ----- Energy: swinging pendulum dot -----
    initPreview('preview-energy', (function () {
      var angle, aVel, aAcc, length, originX;
      return {
        setup: function (p, w, h) {
          angle = p.PI / 4;
          aVel = 0;
          aAcc = 0;
          length = h * 0.55;
          originX = w / 2;
        },
        draw: function (p, w, h) {
          length = h * 0.55;
          originX = w / 2;
          var gravity = 0.4;
          aAcc = (-gravity / length) * p.sin(angle);
          aVel += aAcc;
          aVel *= 0.999;
          angle += aVel;

          var bobX = originX + length * p.sin(angle);
          var bobY = h * 0.1 + length * p.cos(angle);

          p.stroke(58, 68, 80);
          p.strokeWeight(1);
          p.line(originX, h * 0.1, bobX, bobY);

          p.noStroke();
          var speed = p.abs(aVel);
          var r = p.map(speed, 0, 0.1, 50, 255);
          var g = p.map(speed, 0, 0.1, 136, 100);
          var b = p.map(speed, 0, 0.1, 62, 30);
          p.fill(r, g, b);
          p.ellipse(bobX, bobY, 14);
        }
      };
    })());

    // ----- Entropy: random particles spreading -----
    initPreview('preview-entropy', (function () {
      var dots = [];
      return {
        setup: function (p, w, h) {
          p.noStroke();
          for (var i = 0; i < 30; i++) {
            dots.push({
              x: w / 2 + p.random(-20, 20),
              y: h / 2 + p.random(-20, 20),
              vx: p.random(-0.8, 0.8),
              vy: p.random(-0.8, 0.8)
            });
          }
        },
        draw: function (p, w, h) {
          p.noStroke();
          for (var i = 0; i < dots.length; i++) {
            var d = dots[i];
            d.x += d.vx;
            d.y += d.vy;
            if (d.x < 0 || d.x > w) d.vx *= -1;
            if (d.y < 0 || d.y > h) d.vy *= -1;
            d.x = p.constrain(d.x, 0, w);
            d.y = p.constrain(d.y, 0, h);
            p.fill(188, 140, 255, 180);
            p.ellipse(d.x, d.y, 5);
          }
        }
      };
    })());

    // ----- Gravity: dots orbiting a center point -----
    initPreview('preview-gravity', (function () {
      var orbiters = [];
      return {
        setup: function (p, w, h) {
          p.noStroke();
          for (var i = 0; i < 4; i++) {
            var dist = p.random(25, Math.min(w, h) * 0.35);
            var a = p.random(p.TWO_PI);
            var speed = p.map(dist, 25, Math.min(w, h) * 0.35, 0.03, 0.012);
            orbiters.push({ dist: dist, angle: a, speed: speed });
          }
        },
        draw: function (p, w, h) {
          var cx = w / 2;
          var cy = h / 2;

          // Central mass
          p.fill(63, 185, 80);
          p.ellipse(cx, cy, 10);

          // Orbiting dots
          p.noStroke();
          for (var i = 0; i < orbiters.length; i++) {
            var o = orbiters[i];
            o.angle += o.speed;
            var ox = cx + o.dist * p.cos(o.angle);
            var oy = cy + o.dist * p.sin(o.angle) * 0.6;
            p.fill(63, 185, 80, 200);
            p.ellipse(ox, oy, 6);

            // Faint trail
            p.fill(63, 185, 80, 30);
            for (var t = 1; t <= 6; t++) {
              var ta = o.angle - o.speed * t * 3;
              var tx = cx + o.dist * p.cos(ta);
              var ty = cy + o.dist * p.sin(ta) * 0.6;
              p.ellipse(tx, ty, 3);
            }
          }
        }
      };
    })());

    // ----- Momentum: two dots bouncing horizontally -----
    initPreview('preview-momentum', (function () {
      var a, b;
      return {
        setup: function (p, w, h) {
          a = { x: w * 0.25, vx: 1.2, r: 12 };
          b = { x: w * 0.75, vx: -0.8, r: 10 };
        },
        draw: function (p, w, h) {
          var cy = h / 2;

          a.x += a.vx;
          b.x += b.vx;

          // Wall bounces
          if (a.x < a.r) { a.x = a.r; a.vx *= -1; }
          if (a.x > w - a.r) { a.x = w - a.r; a.vx *= -1; }
          if (b.x < b.r) { b.x = b.r; b.vx *= -1; }
          if (b.x > w - b.r) { b.x = w - b.r; b.vx *= -1; }

          // Ball-ball collision
          var dist = p.abs(a.x - b.x);
          if (dist < a.r + b.r) {
            var tempV = a.vx;
            a.vx = b.vx;
            b.vx = tempV;
            // Separate
            var overlap = (a.r + b.r - dist) / 2;
            if (a.x < b.x) { a.x -= overlap; b.x += overlap; }
            else { a.x += overlap; b.x -= overlap; }
          }

          p.noStroke();
          p.fill(248, 81, 73);
          p.ellipse(a.x, cy, a.r * 2);
          p.fill(248, 81, 73, 170);
          p.ellipse(b.x, cy, b.r * 2);
        }
      };
    })());

    // ----- Waves: animating sine wave -----
    initPreview('preview-waves', (function () {
      var t = 0;
      return {
        setup: function (p) {
          t = 0;
        },
        draw: function (p, w, h) {
          var cy = h / 2;
          p.noFill();
          p.strokeWeight(2);

          // Two overlapping waves
          var waves = [
            { amp: h * 0.18, freq: 0.02, speed: 0.04, col: [57, 211, 83, 200] },
            { amp: h * 0.12, freq: 0.035, speed: 0.06, col: [57, 211, 83, 80] }
          ];

          for (var wi = 0; wi < waves.length; wi++) {
            var wv = waves[wi];
            p.stroke(wv.col[0], wv.col[1], wv.col[2], wv.col[3]);
            p.beginShape();
            for (var x = 0; x <= w; x += 3) {
              var y = cy + wv.amp * p.sin(x * wv.freq + t * wv.speed);
              p.vertex(x, y);
            }
            p.endShape();
          }

          t++;
        }
      };
    })());

    // ----- Electrostatics: field arrows around charges -----
    initPreview('preview-electrostatics', (function () {
      var charges = [];
      return {
        setup: function (p, w, h) {
          charges = [
            { x: w * 0.35, y: h * 0.5, q: 1 },
            { x: w * 0.65, y: h * 0.5, q: -1 }
          ];
        },
        draw: function (p, w, h) {
          var gridStep = 25;
          p.strokeWeight(1);
          for (var gx = gridStep; gx < w; gx += gridStep) {
            for (var gy = gridStep; gy < h; gy += gridStep) {
              var ex = 0, ey = 0;
              for (var c = 0; c < charges.length; c++) {
                var dx = gx - charges[c].x;
                var dy = gy - charges[c].y;
                var r2 = dx * dx + dy * dy + 400;
                var r = Math.sqrt(r2);
                var e = charges[c].q / r2;
                ex += e * dx / r;
                ey += e * dy / r;
              }
              var mag = Math.sqrt(ex * ex + ey * ey);
              if (mag > 0) {
                var len = p.constrain(mag * 80000, 2, 12);
                var nx = ex / mag, ny = ey / mag;
                p.stroke(227, 179, 65, p.constrain(mag * 200000, 30, 150));
                p.line(gx, gy, gx + nx * len, gy + ny * len);
              }
            }
          }
          // Draw charges
          p.noStroke();
          p.fill(255, 80, 80);
          p.ellipse(charges[0].x, charges[0].y, 10);
          p.fill(80, 130, 255);
          p.ellipse(charges[1].x, charges[1].y, 10);
        }
      };
    })());

    // ----- Projectile: arcing dots -----
    initPreview('preview-projectile', (function () {
      var dots = [];
      var t = 0;
      var v0 = 3.5, angle = 0.75;
      return {
        setup: function (p, w, h) { dots = []; t = 0; },
        draw: function (p, w, h) {
          t++;
          if (t % 4 === 0) {
            var age = t * 0.016;
            var x = 15 + v0 * Math.cos(angle) * age * 40;
            var y = h - 15 - (v0 * Math.sin(angle) * age * 40 - 0.5 * 9.8 * age * age * 40);
            if (x < w && y < h) dots.push({ x: x, y: y });
            if (dots.length > 60) { dots = []; t = 0; }
          }
          p.noStroke();
          for (var i = 0; i < dots.length; i++) {
            var a = p.map(i, 0, dots.length, 80, 255);
            p.fill(247, 120, 186, a);
            p.ellipse(dots[i].x, dots[i].y, 5);
          }
        }
      };
    })());

    // ----- Thermodynamics: bouncing particles in box -----
    initPreview('preview-thermo', (function () {
      var pts = [];
      return {
        setup: function (p, w, h) {
          p.noStroke();
          for (var i = 0; i < 20; i++) {
            pts.push({
              x: p.random(10, w * 0.6),
              y: p.random(10, h - 10),
              vx: p.random(-2, 2),
              vy: p.random(-2, 2)
            });
          }
        },
        draw: function (p, w, h) {
          // Piston
          var px = w * 0.65;
          p.stroke(218, 91, 13, 120);
          p.strokeWeight(3);
          p.line(px, 8, px, h - 8);
          p.noStroke();
          for (var i = 0; i < pts.length; i++) {
            var pt = pts[i];
            pt.x += pt.vx; pt.y += pt.vy;
            if (pt.x < 6) { pt.x = 6; pt.vx *= -1; }
            if (pt.x > px - 6) { pt.x = px - 6; pt.vx *= -1; }
            if (pt.y < 6) { pt.y = 6; pt.vy *= -1; }
            if (pt.y > h - 6) { pt.y = h - 6; pt.vy *= -1; }
            var spd = Math.sqrt(pt.vx * pt.vx + pt.vy * pt.vy);
            var r = p.map(spd, 0, 4, 80, 255);
            var b = p.map(spd, 0, 4, 200, 50);
            p.fill(r, 120, b, 200);
            p.ellipse(pt.x, pt.y, 5);
          }
        }
      };
    })());

    // ----- Optics: converging rays -----
    initPreview('preview-optics', (function () {
      return {
        setup: function () {},
        draw: function (p, w, h) {
          var lensX = w * 0.5;
          var f = w * 0.25;
          // Lens
          p.stroke(86, 212, 221, 120);
          p.strokeWeight(2);
          p.line(lensX, h * 0.15, lensX, h * 0.85);
          // Rays
          var rays = [h * 0.3, h * 0.5, h * 0.7];
          for (var i = 0; i < rays.length; i++) {
            var ry = rays[i];
            p.stroke(86, 212, 221, 180);
            p.strokeWeight(1.5);
            p.line(0, ry, lensX, ry);
            var hitH = ry - h * 0.5;
            var targetY = h * 0.5;
            var targetX = lensX + f;
            p.line(lensX, ry, targetX, targetY);
            if (targetX < w) p.line(targetX, targetY, w, targetY + (targetY - ry) * ((w - targetX) / f));
          }
          // Focal point
          p.noStroke();
          p.fill(86, 212, 221);
          p.ellipse(lensX + f, h * 0.5, 6);
        }
      };
    })());

    // ----- Circuits: dots moving along a loop -----
    initPreview('preview-circuits', (function () {
      var dots = [];
      var numDots = 12;
      return {
        setup: function (p, w, h) {
          for (var i = 0; i < numDots; i++) {
            dots.push({ t: i / numDots });
          }
        },
        draw: function (p, w, h) {
          var mx = w * 0.15, my = h * 0.25;
          var mw = w * 0.7, mh = h * 0.5;
          // Wire loop
          p.noFill();
          p.stroke(212, 167, 44, 100);
          p.strokeWeight(2);
          p.rect(mx, my, mw, mh, 4);
          // Resistor zigzag at top
          var rx = mx + mw * 0.35, ry = my;
          p.stroke(212, 167, 44, 180);
          p.strokeWeight(2);
          for (var z = 0; z < 5; z++) {
            var x1 = rx + z * 12;
            var x2 = rx + z * 12 + 6;
            p.line(x1, ry + (z % 2 === 0 ? -6 : 6), x2, ry + (z % 2 === 0 ? 6 : -6));
          }
          // Animated dots
          var perimeter = 2 * (mw + mh);
          p.noStroke();
          for (var i = 0; i < dots.length; i++) {
            dots[i].t += 0.003;
            if (dots[i].t > 1) dots[i].t -= 1;
            var d = dots[i].t * perimeter;
            var dx, dy;
            if (d < mw) { dx = mx + d; dy = my; }
            else if (d < mw + mh) { dx = mx + mw; dy = my + (d - mw); }
            else if (d < 2 * mw + mh) { dx = mx + mw - (d - mw - mh); dy = my + mh; }
            else { dx = mx; dy = my + mh - (d - 2 * mw - mh); }
            p.fill(212, 167, 44, 220);
            p.ellipse(dx, dy, 5);
          }
          // Battery
          p.stroke(212, 167, 44, 200);
          p.strokeWeight(2);
          p.line(mx - 4, my + mh * 0.4, mx - 4, my + mh * 0.6);
          p.strokeWeight(1);
          p.line(mx - 8, my + mh * 0.45, mx - 8, my + mh * 0.55);
        }
      };
    })());

    // ----- Relativity: stars streaming + gamma curve -----
    initPreview('preview-relativity', (function () {
      var stars = [];
      return {
        setup: function (p, w, h) {
          for (var i = 0; i < 40; i++) {
            stars.push({ x: p.random(0, w), y: p.random(0, h), s: p.random(1, 3) });
          }
        },
        draw: function (p, w, h) {
          var speed = 3;
          p.strokeWeight(1);
          for (var i = 0; i < stars.length; i++) {
            var st = stars[i];
            st.x -= speed * st.s;
            if (st.x < 0) { st.x = w; st.y = p.random(0, h); }
            var alpha = p.map(st.s, 1, 3, 60, 200);
            p.stroke(137, 87, 229, alpha);
            p.line(st.x, st.y, st.x + st.s * 4, st.y);
          }
          // Ship
          p.noStroke();
          p.fill(137, 87, 229, 200);
          var sx = w * 0.2, sy = h * 0.5;
          p.triangle(sx + 12, sy, sx - 6, sy - 6, sx - 6, sy + 6);
        }
      };
    })());

  })();
  </script>

</body>
</html>
